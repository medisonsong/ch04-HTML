<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>이미지 미리보기</title>
<script type="text/javascript">
window.onload = function(){
	let image = document.getElementById('image');
	
	let file = document.getElementById('file');
	//이벤트 연결
	file.onchange=function(){
		//조건체크
		if(!file.files[0]){ // 데이터가 없다면
			alert('파일을 선택하세요');
			image.src='../files/face.png';
			return;
		}
		//데이터가 있으면 읽어오는 과정
		let reader = new FileReader();
		reader.readAsDataURL(file.files[0]);
		reader.onload = function(){
			image.src = reader.result;			
		};
	};
};
</script>
</head>
<body>

<h2>이미지 미리 보기</h2>
<div>
	<img id="image" src="../files/face.png" width="200" height="200" alt="Image Preview">
</div>
<input type="file" id="file" accept="image/gif,image/png,image/jpeg"> <!-- 이미지 파일들이 사용자지정설정으로 보이게 -->

</body>
</html>
<!-- 
[정상 처리]
사진 아무거나 넣어서 미리보기 했을 때 보이면 정상

[오류]
사진을 선택하려다가 취소하면 alert뜨면서 return 됨
 -->